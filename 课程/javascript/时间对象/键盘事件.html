<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>事件对象</title>
	<style type="text/css">
     .box{
     	width: 300px;
     	height: 300px;
     	border: 1px solid black;
     	position: relative;
     	overflow: hidden;
     }
     .zi{
     	width: 40px;
     	height: 40px;
     	background: #DB8B00;
     	margin: 10px auto;
     	border-radius: 50%;
        text-align: center;
     	
     	position: absolute;

     }
	</style>
</head>
<body>
<div class="box">
<!-- <div class="zi">a</div> -->
</div>
	
</body>
<script src='fuhao.js'></script>
<script type="text/javascript">
	// document.onkeydown=function(e){
	// 	console.log('down',e)
	// }
	// document.onkeypress=function(e){
	// 	console.log('press',e)
	// }
	// document.onkeyup=function(e){
	// 	console.log('up',e)
	// }
	// //pretty print !!!!!!!!!!!!没出来
	// var obj={};

	// for(var i=10000;i<10101;i++){
	// 	obj[ i ]=String.fromCharCode(i) 
	// }
	// console.log(JSON.stringify(obj))
	var box=document.querySelector('.box')
	// var zi=document.querySelector('.zi')

	// document.onkeyup=function(e){
 //       var key=String.fromCharCode(e.keyCode).toLowerCase()
 //       if (key==='a') {
 //         box.removeChild(box.lastElementChild);
 //       var el=document.createElement('div')
 //        el.className='zi'
 //        el.innerHTML=String.fromCharCode(Math.floor(Math.random()*26+97))
 //        box.appendChild(el)
 //       };

	// }
	 var zimujihe={}
      createzimu=function(){
        do{
             var zimu= String.fromCharCode(Math.floor(Math.random()*26+97))
           }while(zimujihe[zimu])
             var el=document.createElement('div')
             el.classList.add('zi');
             el.innerHTML=zimu;
             // el.style.position=absolute;
             box.appendChild(el);
             el.style.left=Math.floor(Math.random()*(box.offsetWidth-el.offsetWidth))+'px'
             // el.style.top=Math.floor(Math.random()*(box.offsetHeight-el.offsetHeight))+'px'

             zimujihe[zimu]=el;
             // console.log(zimujihe)

       }
           
     removezimu=function(zi){
       	     var el=zimujihe[zi];
       	     el.parentElement.removeChild(el);
       	     delete zimujihe[zi]
         

       	    }
              
       	    createzimu()
       	    createzimu()

       	    createzimu()
       	    createzimu()



          document.onkeyup=function(e){
            if (e.keyCode===32) {
            	if (timeId) {
      		clearInterval(timeId);
      		timeId=null;
      	}else{
      		timeId=setInterval(diao,100)
      	}
            };


       	   var key= String.fromCharCode(e.keyCode).toLowerCase();
       	    if (zimujihe[key]){
       	    	removezimu(key);
       	    	createzimu();

       }
      
    }

     var diao=function(){
    	// var el=document.querySelector('.zi')
    	// el.style.top=el.offsetTop+2+'px';
    	// if (el.offsetTop>box.offsetHeight) {
    	// 	removezimu(el.innerHTML)
    	// 	createzimu()
    	// };
    	var zimu ;
    	 for(var i in zimujihe) {
    	 	var el=zimujihe[i];
           el.style.top=el.offsetTop+2+'px'
           if (el.offsetTop>box.offsetHeight) {
           	
           	zimu=i
           };
    	 }
    	 if (zimu) {
    	 	removezimu(zimu)
    	 	createzimu()
    	 };
    }
      var timeId=setInterval(diao,100);
      // document.onclick=function(){
      	

      // }



</script>
</html>